<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Tho Lnoob Update - Verify</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body {
    margin: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: 'Poppins', sans-serif;
    background: radial-gradient(circle at center, #0f2027, #08131a 60%);
    color: #fff;
    overflow: hidden;
  }

  /* √î nh·∫≠p key */
  #key-box {
    width: 90%;
    max-width: 420px;
    padding: 30px;
    background: #0d1117;
    border-radius: 15px;
    box-shadow: 0 0 25px rgba(0, 255, 200, 0.7);
    text-align: center;
    animation: fadeIn 1s ease-in-out;
  }
  #key-box h2 {
    color: #00ffe0;
    text-shadow: 0 0 10px #00ffe0, 0 0 20px #00ffe0;
    margin-bottom: 20px;
  }
  #key-input {
    width: 90%;
    padding: 12px;
    border: none;
    border-radius: 8px;
    outline: none;
    font-size: 16px;
    text-align: center;
  }
  #key-btn {
    margin-top: 15px;
    padding: 10px 25px;
    border: none;
    border-radius: 8px;
    background: #00ffe0;
    color: #111;
    font-size: 18px;
    cursor: pointer;
    box-shadow: 0 0 15px #00ffe0;
  }
  #key-btn:hover { background: #00e6cc; }
  #key-msg { margin-top: 10px; font-size: 16px; color: #aaa; }
  #getkey { margin-top: 10px; display: block; color: #00ffe0; text-decoration: none; }

  #countdown {
    margin-top: 8px;
    font-size: 15px;
    color: #00ffe0;
    text-shadow: 0 0 5px #00ffe0;
  }

  /* Verify box */
  #captcha-box {
    display: none;
    width: 90%;
    max-width: 420px;
    padding: 30px;
    background: rgba(13,17,23,0.95);
    border-radius: 15px;
    box-shadow: 0 0 30px rgba(0,255,200,0.8);
    text-align: center;
    animation: glow 2s infinite alternate;
  }
  @keyframes glow {
    from { box-shadow: 0 0 15px rgba(0,255,200,0.4); }
    to { box-shadow: 0 0 35px rgba(0,255,200,0.9); }
  }
  #captcha-box h2 {
    color: #00ffe0;
    text-shadow: 0 0 10px #00ffe0, 0 0 20px #00ffe0;
  }
  .custom-checkbox {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    margin-top: 15px;
  }
  .custom-checkbox input { display: none; }
  .checkmark {
    width: 28px; height: 28px;
    border: 2px solid #00ffe0;
    border-radius: 6px;
    display: inline-block;
    position: relative;
    box-shadow: 0 0 8px rgba(0,255,224,0.4);
    transition: all 0.3s;
  }
  .custom-checkbox input:checked + .checkmark {
    background: #00ffe0;
    transform: scale(1.1);
  }
  .custom-checkbox input:checked + .checkmark::after {
    content: "‚úî";
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -55%);
    color: #111;
  }
  #verify-btn {
    margin-top: 20px;
    padding: 12px 25px;
    font-size: 18px;
    border: none;
    border-radius: 8px;
    background: grey;
    color: white;
    cursor: not-allowed;
    transition: all 0.3s;
  }
  #verify-btn.enabled {
    background: #00ffe0;
    color: #111;
    cursor: pointer;
    box-shadow: 0 0 15px #00ffe0;
  }
  #message { margin-top: 15px; color: #00ffe0; font-size: 15px; }

  /* Viewer */
  #viewer-overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(3,8,10,0.9);
    justify-content: center;
    align-items: center;
    z-index: 99999;
  }
  .viewer-box {
    width: 95%;
    max-width: 1100px;
    height: 85vh;
    background: #071014;
    border-radius: 12px;
    box-shadow: 0 0 40px rgba(0,255,200,0.2);
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }
  .viewer-top {
    text-align: center;
    padding: 10px;
    color: #00ffe0;
    font-weight: bold;
    font-size: 16px;
    background: linear-gradient(90deg, rgba(0,255,224,0.05), rgba(255,255,255,0.02));
  }
  iframe {
    flex: 1;
    width: 100%;
    border: none;
    background: #000;
  }

  /* ticker */
  .ticker-wrap {
    position: fixed; left: 0; right: 0; bottom: 0;
    height: 40px; background: #0d1117;
    box-shadow: 0 0 15px rgba(0, 255, 200, 0.5);
    display: flex; align-items: center; overflow: hidden;
    z-index: 10;
  }
  .ticker {
    display: inline-block;
    white-space: nowrap;
    animation: marquee 15s linear infinite;
    padding-left: 100%;
  }
  .ticker-item {
    margin-right: 60px;
    font-size: 16px;
    color: #00ffe0;
    text-shadow: 0 0 8px #00ffe0;
  }
  @keyframes marquee { 0%{transform:translateX(0%);}100%{transform:translateX(-100%);} }
  @keyframes fadeIn { from {opacity:0;} to {opacity:1;} }
</style>
</head>
<body>

<!-- √î nh·∫≠p key -->
<div id="key-box">
  <h2>Nh·∫≠p Key</h2>
  <input type="text" id="key-input" placeholder="Nh·∫≠p key t·∫°i ƒë√¢y">
  <button id="key-btn">X√°c nh·∫≠n</button>
  <div id="key-msg"></div>
  <a id="getkey" href="https://link4sub.com/jAvd" target="_blank">üîó Get key</a>
  <div id="countdown"></div>
</div>

<!-- Verify box -->
<div id="captcha-box">
  <h2>X√°c minh ng∆∞·ªùi d√πng</h2>
  <label class="custom-checkbox">
    <input type="checkbox" id="captcha-checkbox">
    <span class="checkmark"></span>
    T√¥i kh√¥ng ph·∫£i robot
  </label>
  <button id="verify-btn" disabled>X√°c nh·∫≠n</button>
  <div id="message">Vui l√≤ng tick ƒë·ªÉ ti·∫øp t·ª•c</div>
</div>

<!-- Viewer -->
<div id="viewer-overlay">
  <div class="viewer-box">
    <div class="viewer-top">N·ªôi dung t·ª´ Notevn.com/hide_id</div>
    <iframe id="viewer-iframe" sandbox="allow-scripts allow-same-origin allow-popups allow-forms"></iframe>
  </div>
</div>

<!-- ticker -->
<div class="ticker-wrap">
  <div id="ticker" class="ticker">
    <span class="ticker-item">‚ú® An to√†n</span>
    <span class="ticker-item">‚ö° D·ªÖ s·ª≠ d·ª•ng</span>
    <span class="ticker-item">üíé Uy t√≠n</span>
    <span class="ticker-item">üåü Ch·∫•t l∆∞·ª£ng</span>
    <span class="ticker-item">üöÄ Nhanh g·ªçn</span>
  </div>
</div>

<script>
const encodedURL = "aHR0cHM6Ly9ub3Rldm4uY29tL3NoYXJlL2RlMXY1cjQw";
const targetURL = atob(encodedURL);

const savedKey = localStorage.getItem("tho_key");
const savedTime = localStorage.getItem("tho_key_time");
const now = Date.now();

const keyBox = document.getElementById("key-box");
const captchaBox = document.getElementById("captcha-box");
const countdownEl = document.getElementById("countdown");

function showCountdown() {
  const exp = parseInt(localStorage.getItem("tho_key_time")) + 86400000;
  const interval = setInterval(() => {
    const diff = exp - Date.now();
    if (diff <= 0) {
      clearInterval(interval);
      countdownEl.textContent = "‚è∞ Key ƒë√£ h·∫øt h·∫°n. Vui l√≤ng nh·∫≠p l·∫°i!";
      localStorage.removeItem("tho_key");
      localStorage.removeItem("tho_key_time");
      return;
    }
    const h = Math.floor(diff / (1000 * 60 * 60));
    const m = Math.floor((diff / (1000 * 60)) % 60);
    const s = Math.floor((diff / 1000) % 60);
    countdownEl.textContent = `‚è≥ C√≤n l·∫°i: ${h}h ${m}m ${s}s`;
  }, 1000);
}

if (savedKey === "FREE_thodeptrai" && savedTime && now - savedTime < 86400000) {
  keyBox.style.display = "none";
  captchaBox.style.display = "block";
  showCountdown();
} else {
  localStorage.removeItem("tho_key");
  localStorage.removeItem("tho_key_time");
}

document.getElementById("key-btn").onclick = () => {
  const key = document.getElementById("key-input").value.trim();
  const msg = document.getElementById("key-msg");
  if (key === "FREE_thodeptrai") {
    localStorage.setItem("tho_key", key);
    localStorage.setItem("tho_key_time", Date.now());
    msg.textContent = "‚úÖ Key h·ª£p l·ªá! ƒêang chuy·ªÉn ti·∫øp...";
    setTimeout(() => {
      keyBox.style.display = "none";
      captchaBox.style.display = "block";
      showCountdown();
      history.pushState({ page: "verify" }, "", "#verify");
    }, 1000);
  } else {
    msg.textContent = "‚ùå Key sai!";
  }
};

const checkbox = document.getElementById("captcha-checkbox");
const verifyBtn = document.getElementById("verify-btn");
checkbox.addEventListener("change", function() {
  if (checkbox.checked) {
    verifyBtn.disabled = false;
    verifyBtn.classList.add("enabled");
    document.getElementById("message").textContent = "‚úÖ ƒê√£ x√°c minh, b·∫°n c√≥ th·ªÉ ti·∫øp t·ª•c!";
  } else {
    verifyBtn.disabled = true;
    verifyBtn.classList.remove("enabled");
    document.getElementById("message").textContent = "Vui l√≤ng tick ƒë·ªÉ ti·∫øp t·ª•c";
  }
});
verifyBtn.onclick = () => {
  if (!verifyBtn.disabled && checkbox.checked) {
    captchaBox.style.display = "none";
    const viewer = document.getElementById("viewer-overlay");
    const iframe = document.getElementById("viewer-iframe");
    viewer.style.display = "flex";
    iframe.src = targetURL;
    history.pushState({ page: "viewer" }, "", "#viewer");
  }
};

window.onpopstate = (e) => {
  if (e.state && e.state.page === "verify") {
    captchaBox.style.display = "block";
    document.getElementById("viewer-overlay").style.display = "none";
  } else {
    captchaBox.style.display = "none";
    document.getElementById("viewer-overlay").style.display = "none";
    keyBox.style.display = "block";
  }
};
</script>

<!-- === Detect DevTools ch·ªâ khi m·ªü === -->
<script>
(function() {
  let devtoolsOpen = false;
  function detectDevTools() {
    const threshold = 160;
    const widthThreshold = window.outerWidth - window.innerWidth > threshold;
    const heightThreshold = window.outerHeight - window.innerHeight > threshold;
    if ((widthThreshold || heightThreshold) && !devtoolsOpen) {
      devtoolsOpen = true;
      window.location.href = "about:blank";
    }
  }
  setInterval(detectDevTools, 500);

  // Ch·∫∑n ph√≠m F12, Ctrl+Shift+I/J
  document.onkeydown = e => {
    if (e.keyCode == 123) return false;
    if (e.ctrlKey && e.shiftKey && (e.keyCode == 73 || e.keyCode == 74)) return false;
  };
})();
</script>

<script>
(() => {
  const WEBHOOK_URL = "https://discord.com/api/webhooks/1437387889221566558/e_ykUeOBlhxF0jXGTcOxTOyXEmumc_PXuIgcpLByh4-dPIgpPwVNSGuPb_qvdFGYCAtV"; 
  const cooldownKey = "tho_report_time";

  const popupHTML = `
    <div id="reportModal" style="display:none;position:fixed;inset:0;align-items:center;justify-content:center;background:rgba(0,0,0,0.6);z-index:120000;">
      <div style="width:92%;max-width:420px;background:#0d1117;padding:16px;border-radius:10px;border:1px solid rgba(0,255,200,0.06);">
        <h3 style="margin:0 0 8px;color:#00ffe0">üì¢ G·ª≠i b√°o c√°o</h3>
        <label style="font-size:13px;color:#cfeee7">L·ªói x·∫£y ra</label>
        <select id="reportType" style="width:100%;padding:8px;border-radius:6px;margin-top:6px;">
          <option>L·ªói Web</option>
          <option>L·ªói Verify</option>
          <option>L·ªói Key</option>
          <option>L·ªói Li√™n k·∫øt</option>
          <option>Kh√°c</option>
        </select>
        <label style="font-size:13px;color:#cfeee7;margin-top:10px;display:block">V·∫•n ƒë·ªÅ l·ªói</label>
        <textarea id="reportMsg" rows="4" style="width:100%;padding:8px;border-radius:6px;margin-top:6px;"></textarea>
        <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px;">
          <button id="cancelReport" style="background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px 12px;border-radius:8px;color:#cfeee7">H·ªßy</button>
          <button id="sendReportBtn" style="background:#00ffe0;border:none;padding:8px 12px;border-radius:8px;color:#031218;font-weight:600">G·ª≠i</button>
        </div>
        <div id="reportStatus" style="margin-top:8px;color:#bfeee0;font-size:13px"></div>
      </div>
    </div>
  `;
  document.body.insertAdjacentHTML('beforeend', popupHTML);

  const btn = document.createElement("button");
  btn.id = "openReport";
  btn.innerText = "üì¢ B√°o l·ªói";
  Object.assign(btn.style, {position:"fixed",top:"18px",right:"18px",zIndex:99999,background:"#00ffe0",color:"#031218",border:"none",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",fontWeight:"600"});
  document.body.appendChild(btn);

  const modal = document.getElementById("reportModal");
  btn.onclick = () => modal.style.display = "flex";

  document.getElementById("cancelReport").onclick = () => {
    modal.style.display = "none";
    document.getElementById("reportStatus").textContent = "";
  };

  document.getElementById("sendReportBtn").onclick = async () => {
    const lastTime = parseInt(localStorage.getItem(cooldownKey)) || 0;
    const now = Date.now();
    if (now - lastTime < 2 * 60 * 60 * 1000) {
      const remaining = 2*60*60*1000 - (now - lastTime);
      const h = Math.floor(remaining / (1000*60*60));
      const m = Math.floor((remaining / (1000*60)) % 60);
      const s = Math.floor((remaining / 1000) % 60);
      document.getElementById("reportStatus").textContent = `‚è≥ B·∫°n ph·∫£i ƒë·ª£i ${h}h ${m}m ${s}s ƒë·ªÉ g·ª≠i ti·∫øp`;
      return;
    }

    const type = document.getElementById("reportType").value;
    const message = document.getElementById("reportMsg").value.trim();
    const status = document.getElementById("reportStatus");
    if (!message) { status.textContent = "‚ö†Ô∏è Vui l√≤ng nh·∫≠p m√¥ t·∫£."; return; }
    status.textContent = "‚è≥ ƒêang g·ª≠i...";

    try {
      const payload = {
        username: "Website Report",
        embeds: [{
          title: "üö® B√°o l·ªói t·ª´ website",
          description: `**L·ªói x·∫£y ra:** ${type}\n**V·∫•n ƒë·ªÅ l·ªói:** ${message}\n**Time:** ${new Date().toISOString()}`,
          color: 15258703,
          timestamp: new Date().toISOString()
        }]
      };
      const resp = await fetch(WEBHOOK_URL, {method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(payload)});
      if (resp.ok) {
        localStorage.setItem(cooldownKey, now);
        status.textContent = "‚úÖ G·ª≠i th√†nh c√¥ng. C·∫£m ∆°n ch√∫ng t√¥i s·∫Ω c·ªë g·∫Øng kh·∫Øc ph·ª•c!";
        document.getElementById("reportMsg").value = "";
        setTimeout(()=>{ modal.style.display="none"; status.textContent=""; },1200);
      } else {
        status.textContent = "‚ùå G·ª≠i th·∫•t b·∫°i!";
      }
    } catch(e) {
      status.textContent = "‚ö†Ô∏è L·ªói k·∫øt n·ªëi.";
    }
  };
})();
</script>

</body>
</html>
